#!/usr/bin/env python
#coding=utf-8
__author__ = 'Jayin Ton'

import requests
#搜索建议
#http://lib.wyu.edu.cn/opac/showsearchsuggestionAjax.aspx?st=ANYWORDS&s=python

def search(page):
    #"http://lib.wyu.edu.cn/opac/search.aspx"
    url = "http://lib.wyu.edu.cn/opac/search.aspx"
    datas = {
        # "__EVENTVALIDATION":"/wEWFwKhn5yVDALjlsagDAKF38vSAgLI2KbhBgLgrL+bCwKEwpvgAQKqoeKXCwKLleDOBQLN7dvtCAK7w4DNAQL5yLiyDwK7utrjDgLw0cOSBAL55JmJDgL+qfvfAwLmgJ6hAwLo/MCIAwKt4fnGAwKs4fnGAwKv4fnGAwKt4aXUBQKs4aXUBQKv4aXUBcOw6nGK2zbvKozCo/GtwyndraWX",
        # "__VIEWSTATE":"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",
        # "ctl00$ContentPlaceHolder1$gotoddlfl1":"1",
        # "ctl00$ContentPlaceHolder1$gotoddlfl2":"1",
        # "ctl00$ContentPlaceHolder1$keywordstb":"dt=ALL&cl=ALL&dept=ALL&sf=M_PUB_YEAR&ob=DESC&page=1&dp=20&sm=table",
        # "ctl00$ContentPlaceHolder1$searchbtn":"",
        # "ctl00$ContentPlaceHolder1$searchbtn":"新检索",
        # "ctl00$ContentPlaceHolder1$searchtypeddl":"ANYWORDS",
        # "ctl00$ContentPlaceHolder1$thissearchhf":"anywords=python&dt=ALL&cl=ALL&dp=20&sf=M_PUB_YEAR&ob=DESC&sm=table&dept=ALL&ecx=1",
    }
    _h = {

        #"Host": "lib.wyu.edu.cn",
        "Accept-Language": "zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4"
    }
    print _h
    # r = requests.get(url, )
    r = requests.get(url, headers=_h)
    _cookies = r.cookies

    print(r.content)
    print "-->", r.cookies
    print(r)


def get_result():
    url = "http://lib.wyu.edu.cn/opac/searchresult.aspx?anywords=python&dt=ALL&cl=ALL&dp=20&sf=M_PUB_YEAR&ob=DESC&sm=table&dept=ALL&ecx=1"
    _h = {

       # "Host": "lib.wyu.edu.cn",
        #"Accept-Language": "zh-CN,zh;q=0.8,en;q=0.6,zh-TW;q=0.4"
    }
    r = requests.get(url, headers=_h)
    print r.content

#search(1)

get_result()